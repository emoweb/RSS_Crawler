---

# よく使うデータの参照元
dmy:
  # 汎用replace一覧
  short_html:
    &short_html
    - '[\r\n]'
    - ['\s*([<>])\s*', '\1']
    - ['<div\s((class|style|id)=\"[^\"]*\"\s*)*>', '<div>']

# pipe_procedureの引数そのまま.
# filter等はRegexpに変換される.
# keyはname
:pipe_procedure:
  # ロシアの声 : http://japanese.ruvr.ru/
  ruvr:
    :feed: 'http://japanese.ruvr.ru/rss/export_all.xml'
    :fetch:
      :xpath: '//div[@class="limit-weight"][1]'
      :replace:
        - '[\r\n]'
        - ['\s*([<>])\s*', '\1']
        - ['<div\s((class|style|id)=\"[^\"]*\"\s*)*>', '<div>']
  
  # GIGAZINE
  gigazine:
    :feed: 'http://gigazine.net/news/rss_2.0/'
    :filter: '^PR:\s'
    :fetch:
      :xpath: '//p[@class="preface"]'
      :replace: *short_html
  
  # Gizmodo : http://www.gizmodo.jp/
  gizmodo:
    :feed: 'http://www.gizmodo.jp/index.xml'
    :fetch:
      :xpath: '//div[@class="cXenseParse"]'
      :replace:
        - '[\r\n]'
      :update_url: 'rm_query'
  
  # TechCrunch Japan » TechCrunch : http://jp.techcrunch.com/
  techcrunch:
    :feed: 'http://jp.techcrunch.com/feed/'
    :filter: '^P[Rr]:\s'
  
  # 痛いニュース(ﾉ∀`) : http://blog.livedoor.jp/dqnplus/
  dqnplus:
    :feed: 'http://blog.livedoor.jp/dqnplus/index.rdf'
    :fetch:
      :xpath: '//div[@class="blogbody"]'
      :replace:
        - '[\r\n]'
        -
          - '^.*<\!-- google_ad_section_start -->(.*?)<div class="posted"></div>.*$'
          - '\1'
  
  # フリーソフトの樹 : http://freesoftnoki.blog87.fc2.com/
  freesoftnoki:
    :feed: 'http://feedproxy.google.com/frnoki'
    :fetch:
      :xpath: '//td[@class="main_txt"]'
      :replace:
        - '[\r\n]'
        - ['\s*([<>])\s*', '\1']
        - ['<div align=\"left\">.*(</td>)', '\1']
      :abslink: true
  
  # Wired
  wired:
    :feed: 'http://wired.jp/feed/'
    :filter: '^PR:\s'
    :fetch:
      :xpath: '//div[@class="article_maincontents"]'
      :replace:
        - '[\r\n]'
        - ['<!-- impAct AD -->.*</div>', '</div>']
        - ['(<\w+)\sclass=\"[^\"]+">', '\1>']
        - ['\s*([<>])\s*', '\1']
      :abslink: true
  
  excite_odd:
    :feed: 'http://www.excite.co.jp/News/rss/odd/'
    :filter: '^PR:\s'
    :fetch:
      :xpath: '//div[@class="story"]'
      :abslink: true
  
  excite_koneta:
    :feed: 'http://www.excite.co.jp/News/rss/source/?source=Excite'
    :filter: '^PR:\s'
    :fetch:
      :xpath: '//div[@class="story"]'
      :abslink: true
      
  # Cyclist
  cyclist:
    :feed: 'http://cyclist.sanspo.com/feed'
    :fetch:
      :xpath: '//div[@class="description clearfix"]'
      :abslink: true
      
  # 窓の杜 : http://www.forest.impress.co.jp/
  forest_impress:
    :feed: 'http://www.forest.impress.co.jp/rss.xml'
    :fetch:
      :xpath: '//div[@class="main-contents mainContents"]'
      :replace:
        - '[\r\n]'
        - ['\s*([<>])\s*', '\1']
      :abslink: true
  
  # ITPro
  itpro:
    :feed: 'http://itpro.nikkeibp.co.jp/rss/news.rdf'
    :filter: '^［PR］'
    :fetch:
      :xpath: '//div[@id="kiji"]'
      :replace:
        - ['("[^"]+)&amp;([^"]+")', '\1&\2']
        - ['<div\s((class|style|id)=\"[^\"]*\"\s*)*>', '<div>']
      :abslink: true
      
